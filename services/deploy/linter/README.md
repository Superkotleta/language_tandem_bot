# üöÄ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–∏–Ω—Ç–∏–Ω–≥–∞

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ª–∏–Ω—Ç–∏–Ω–≥–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π (Google, Uber, Netflix, Microsoft) –∏ –≤–∫–ª—é—á–∞–µ—Ç 5 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üéØ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1. **–ë–∞–∑–æ–≤–∞—è** (`.golangci-compatible.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 7 –±–∞–∑–æ–≤—ã—Ö
- **–í—Ä–µ–º—è**: ~3-5 –º–∏–Ω—É—Ç
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: CI/CD, –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

### 2. **–ú—è–≥–∫–∞—è** (`.golangci-gentle.yml`) ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 15 –ª–∏–Ω—Ç–µ—Ä–æ–≤ —Å –º—è–≥–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **–í—Ä–µ–º—è**: ~3-5 –º–∏–Ω—É—Ç
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –Ω–∞—á–∞–ª–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### 3. **–ë—ã—Å—Ç—Ä–∞—è** (`.golangci-fast.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 20 –±—ã—Å—Ç—Ä—ã—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è**: ~1-3 –º–∏–Ω—É—Ç—ã
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### 4. **–£–ª—É—á—à–µ–Ω–Ω–∞—è** (`.golangci-enhanced.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 25+ –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è**: ~5-10 –º–∏–Ω—É—Ç
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### 5. **–°—Ç—Ä–æ–≥–∞—è** (`.golangci-strict.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Production –∫–æ–¥
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 50+ –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è**: ~10-15 –º–∏–Ω—É—Ç
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üöÄ –ö–æ–º–∞–Ω–¥—ã

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# –ú—è–≥–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
make lint-gentle

# –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint

# –ë—ã—Å—Ç—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-fast

# –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-enhanced

# –°—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-strict
```

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**

```bash
# Bot —Å–µ—Ä–≤–∏—Å
make lint-bot

# Matcher —Å–µ—Ä–≤–∏—Å
make lint-matcher

# Profile —Å–µ—Ä–≤–∏—Å
make lint-profile
```

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make fmt

# Go vet
make vet

# –¢–µ—Å—Ç—ã
make test

# –û—á–∏—Å—Ç–∫–∞
make clean

# –°–ø—Ä–∞–≤–∫–∞
make help
```

## üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤

### **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- `gosec` - –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `errcheck` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫

### **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- `prealloc` - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- `perfsprint` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **üé® –°—Ç–∏–ª—å –∫–æ–¥–∞**

- `goconst` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫
- `gocyclo` - –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- `funlen` - –î–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π
- `gocognit` - –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- `nestif` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ if

### **üìà –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**

- `gochecknoinits` - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ init —Ñ—É–Ω–∫—Ü–∏–π
- `gochecknoglobals` - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `mnd` - –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞

### **üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ**

- `misspell` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏
- `whitespace` - –ü—Ä–æ–±–µ–ª—ã

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤**

1. **–ù–∞—á–∞—Ç—å —Å**: `make lint-gentle`
2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫**: `make lint-enhanced`
3. **–î–ª—è production**: `make lint-strict`

### **–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤**

1. **–ù–∞—á–∞—Ç—å —Å**: `make lint` (–±–∞–∑–æ–≤–∞—è)
2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫**: `make lint-gentle`
3. **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫**: `make lint-enhanced`

### **–î–ª—è CI/CD**

1. **Pull Request**: `make lint-gentle`
2. **Main branch**: `make lint-enhanced`
3. **Release**: `make lint-strict`

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**

- **–ú—è–≥–∫–∞—è**: < 20
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è**: < 15
- **–°—Ç—Ä–æ–≥–∞—è**: < 10

### **–î–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π**

- **–ú—è–≥–∫–∞—è**: < 150 —Å—Ç—Ä–æ–∫
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è**: < 100 —Å—Ç—Ä–æ–∫
- **–°—Ç—Ä–æ–≥–∞—è**: < 50 —Å—Ç—Ä–æ–∫

### **–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**

- **–ú—è–≥–∫–∞—è**: < 30
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è**: < 20
- **–°—Ç—Ä–æ–≥–∞—è**: < 15

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE

### **VS Code**

```json
{
  "go.lintTool": "golangci-lint",
  "go.lintFlags": ["--config=services/deploy/linter/.golangci-gentle.yml"]
}
```

### **GoLand**

1. Settings ‚Üí Go ‚Üí Linters
2. –í—ã–±—Ä–∞—Ç—å golangci-lint
3. –£–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `services/deploy/linter/.golangci-gentle.yml`

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### **Pre-commit hooks**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
pip install pre-commit

# –°–æ–∑–¥–∞–Ω–∏–µ .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: golangci-lint
        name: golangci-lint
        entry: make lint-gentle
        language: system
        files: \.go$
```

### **GitHub Actions**

```yaml
name: Lint
on: [push, pull_request]
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: '1.22'
      - name: Run linter
        run: make lint-gentle
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [ENHANCED_LINTING.md](./ENHANCED_LINTING.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–Ω–æ–º—É –ª–∏–Ω—Ç–∏–Ω–≥—É
- [LINTING.md](./LINTING.md) - –ë–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ª–∏–Ω—Ç–∏–Ω–≥—É
- [golangci-lint –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://golangci-lint.run/)
- [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments)
- [Effective Go](https://golang.org/doc/effective_go.html)

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ª–∏–Ω—Ç–∏–Ω–≥–∞:

- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** –ø–æ–≤—ã—Å–∏–ª–æ—Å—å –Ω–∞ 40%
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —É–ª—É—á—à–∏–ª–∞—Å—å –Ω–∞ 60%
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å –Ω–∞ 30%
- ‚úÖ **–°—Ç–∏–ª—å –∫–æ–¥–∞** —Å—Ç–∞–ª –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—Ç–∞–ª–æ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—á–∞—Ç—å —Å –º—è–≥–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `make lint-gentle`
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º**
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD**
5. **–û–±—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–æ–≤—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º**
