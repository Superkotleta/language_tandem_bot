# üöÄ –£–ª—É—á—à–µ–Ω–Ω—ã–π –ª–∏–Ω—Ç–µ—Ä - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–∏–Ω—Ç–∏–Ω–≥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π (Google, Uber, Netflix, Microsoft).

## üéØ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1. **–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`.golangci-compatible.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: CI/CD, –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 7 –±–∞–∑–æ–≤—ã—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~3-5 –º–∏–Ω—É—Ç

### 2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`.golangci-enhanced.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 25+ –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~5-10 –º–∏–Ω—É—Ç

### 3. **–°—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`.golangci-strict.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Production –∫–æ–¥
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 50+ –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~10-15 –º–∏–Ω—É—Ç

### 4. **–ë—ã—Å—Ç—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`.golangci-fast.yml`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–õ–∏–Ω—Ç–µ—Ä—ã**: 20 –±—ã—Å—Ç—Ä—ã—Ö –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~1-3 –º–∏–Ω—É—Ç—ã

## üè¢ –ü—Ä–∞–∫—Ç–∏–∫–∏ –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π

### **Google**

- **gosec**: –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **gocritic**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- **gocyclo**: –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- **funlen**: –î–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π

### **Uber**

- **prealloc**: –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **perfsprint**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **fatcontext**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- **makezero**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π—Å–æ–≤

### **Netflix**

- **testifylint**: –ü—Ä–æ–≤–µ—Ä–∫–∏ testify
- **paralleltest**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **testpackage**: –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
- **thelper**: –¢–µ—Å—Ç–æ–≤—ã–µ —Ö–µ–ª–ø–µ—Ä—ã

### **Microsoft**

- **gochecknoinits**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ init —Ñ—É–Ω–∫—Ü–∏–π
- **gochecknoglobals**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **gomnd**: –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
- **depguard**: –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–º–ø–æ—Ä—Ç–æ–≤

## üîß –ö–æ–º–∞–Ω–¥—ã

### **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint

# –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-enhanced

# –°—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-strict

# –ë—ã—Å—Ç—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
make lint-fast
```

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**

```bash
# Bot —Å–µ—Ä–≤–∏—Å
make lint-bot

# Matcher —Å–µ—Ä–≤–∏—Å
make lint-matcher

# Profile —Å–µ—Ä–≤–∏—Å
make lint-profile
```

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make fmt

# Go vet
make vet

# –¢–µ—Å—Ç—ã
make test

# –û—á–∏—Å—Ç–∫–∞
make clean
```

## üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤

### **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- `gosec` - –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `errcheck` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
- `bodyclose` - –ó–∞–∫—Ä—ã—Ç–∏–µ HTTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `noctx` - –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤ HTTP –∑–∞–ø—Ä–æ—Å–∞—Ö
- `sqlclosecheck` - –ó–∞–∫—Ä—ã—Ç–∏–µ SQL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- `prealloc` - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- `perfsprint` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `fatcontext` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- `makezero` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π—Å–æ–≤

### **üé® –°—Ç–∏–ª—å –∫–æ–¥–∞**

- `gocritic` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- `revive` - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π golint
- `goconst` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫
- `gocyclo` - –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- `funlen` - –î–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π
- `gocognit` - –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- `nestif` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ if

### **üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

- `testifylint` - –ü—Ä–æ–≤–µ—Ä–∫–∏ testify
- `paralleltest` - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `testpackage` - –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
- `thelper` - –¢–µ—Å—Ç–æ–≤—ã–µ —Ö–µ–ª–ø–µ—Ä—ã

### **üìà –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**

- `gochecknoinits` - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ init —Ñ—É–Ω–∫—Ü–∏–π
- `gochecknoglobals` - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `gomnd` - –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
- `gomoddirectives` - –î–∏—Ä–µ–∫—Ç–∏–≤—ã go.mod
- `gomodguard` - –ó–∞—â–∏—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `depguard` - –ö–æ–Ω—Ç—Ä–æ–ª—å –∏–º–ø–æ—Ä—Ç–æ–≤

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**

1. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: `make lint-fast`
2. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º**: `make lint-enhanced`
3. **–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º**: `make lint-strict`

### **–î–ª—è CI/CD**

1. **Pull Request**: `make lint-enhanced`
2. **Main branch**: `make lint-strict`
3. **Release**: `make lint-strict`

### **–î–ª—è –∫–æ–º–∞–Ω–¥**

1. **–ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã**: –ù–∞—á–∞—Ç—å —Å `enhanced`
2. **Legacy –∫–æ–¥**: –ù–∞—á–∞—Ç—å —Å `compatible`
3. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–¥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `strict`

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**

- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: < 15
- **–°—Ç—Ä–æ–≥–æ**: < 10
- **–ö—Ä–∏—Ç–∏—á–Ω–æ**: < 5

### **–î–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π**

- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: < 100 —Å—Ç—Ä–æ–∫
- **–°—Ç—Ä–æ–≥–æ**: < 50 —Å—Ç—Ä–æ–∫
- **–ö—Ä–∏—Ç–∏—á–Ω–æ**: < 25 —Å—Ç—Ä–æ–∫

### **–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**

- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: < 20
- **–°—Ç—Ä–æ–≥–æ**: < 15
- **–ö—Ä–∏—Ç–∏—á–Ω–æ**: < 10

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE

### **VS Code**

```json
{
  "go.lintTool": "golangci-lint",
  "go.lintFlags": ["--config=services/deploy/linter/.golangci-enhanced.yml"]
}
```

### **GoLand**

1. Settings ‚Üí Go ‚Üí Linters
2. –í—ã–±—Ä–∞—Ç—å golangci-lint
3. –£–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### **Pre-commit hooks**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
pip install pre-commit

# –°–æ–∑–¥–∞–Ω–∏–µ .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: golangci-lint
        name: golangci-lint
        entry: make lint-fast
        language: system
        files: \.go$
```

### **GitHub Actions**

```yaml
name: Lint
on: [push, pull_request]
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: '1.22'
      - name: Run linter
        run: make lint-enhanced
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [golangci-lint –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://golangci-lint.run/)
- [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments)
- [Effective Go](https://golang.org/doc/effective_go.html)
- [Go Best Practices](https://github.com/golang/go/wiki/CodeReviewComments)
