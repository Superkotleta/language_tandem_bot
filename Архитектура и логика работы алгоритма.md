# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–¥–±–æ—Ä–∞ —è–∑—ã–∫–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

## –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

**–¶–µ–ª—å**: –ù–∞–π—Ç–∏ –æ–¥–Ω–æ–≥–æ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ —è–∑—ã–∫–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∑–∞–∏–º–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —è–∑—ã–∫–æ–≤, –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤, —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–Ω—Ü–∏–ø**: –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç **–æ–¥–Ω–æ–≥–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞**, –∞ –Ω–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### `users` ‚Äî –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

```sql

CREATE TABLE users (
id SERIAL PRIMARY KEY,
telegram_id BIGINT UNIQUE NOT NULL,
username TEXT,
first_name TEXT,
created_at TIMESTAMP DEFAULT NOW(),
state TEXT DEFAULT '',
profile_completion_level INT DEFAULT 1
);

```

#### `languages` ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —è–∑—ã–∫–æ–≤

```sql

CREATE TABLE languages (
id SERIAL PRIMARY KEY,
code VARCHAR(10),
name TEXT
);

```

#### `user_language_pairs` ‚Äî —è–∑—ã–∫–æ–≤—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```sql

CREATE TABLE user_language_pairs (
id SERIAL PRIMARY KEY,
user_id INT REFERENCES users(id),
native_language_id INT REFERENCES languages(id),
target_language_id INT REFERENCES languages(id),
target_level TEXT CHECK (target_level IN ('beginner', 'intermediate', 'advanced'))
);

CREATE INDEX idx_user_language_pairs_user_id ON user_language_pairs(user_id);
```

#### `friendship_preferences` ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –æ–±—â–µ–Ω–∏—é

```sql

CREATE TABLE friendship_preferences (
id SERIAL PRIMARY KEY,
user_id INT REFERENCES users(id),
activity_type TEXT, -- movies, games, casual_chat, creative, active, educational
communication_style TEXT, -- text, voice_msg, audio_call, video_call, meet_person
communication_frequency TEXT -- spontaneous, weekly, daily, intensive
);

```

#### `user_time_availability` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

```sql

CREATE TABLE user_time_availability (
id SERIAL PRIMARY KEY,
user_id INT REFERENCES users(id),
day_type TEXT CHECK (day_type IN ('weekdays', 'weekends', 'any')),
time_slot TEXT CHECK (time_slot IN ('morning', 'day', 'evening', 'late'))
);

```

#### `match_queue` ‚Äî –æ—á–µ—Ä–µ–¥—å –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

```sql

CREATE TABLE match_queue (
id SERIAL PRIMARY KEY,
user1_id INT REFERENCES users(id),
user2_id INT REFERENCES users(id),
compatibility_score INT,
found_at TIMESTAMP DEFAULT NOW(),
sent_at TIMESTAMP NULL,
status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'sent', 'cancelled'))
);

CREATE UNIQUE INDEX idx_match_queue_users ON match_queue(user1_id, user2_id);
```

#### `interests` ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤

```sql

CREATE TABLE interests (
id SERIAL PRIMARY KEY,
name TEXT NOT NULL,
type TEXT -- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ (—Å–ø–æ—Ä—Ç, –º—É–∑—ã–∫–∞, –Ω–∞—É–∫–∞ –∏ —Ç.–¥.)
);

```

#### `user_interests` ‚Äî —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏

```sql

CREATE TABLE user_interests (
id SERIAL PRIMARY KEY,
user_id INT REFERENCES users(id),
interest_id INT REFERENCES interests(id),
is_main BOOLEAN DEFAULT FALSE
);

CREATE INDEX idx_user_interests_user_id ON user_interests(user_id);
```

#### `user_traits` ‚Äî —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```sql

CREATE TABLE user_traits (
id SERIAL PRIMARY KEY,
user_id INT REFERENCES users(id),
trait TEXT,
value TEXT -- yes/no, high/low –∏ —Ç.–¥.
);

CREATE INDEX idx_user_traits_user_id ON user_traits(user_id);
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```sql
- CREATE INDEX idx_users_telegram_id ON users(telegram_id);
```

## 2. –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

### –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

#### **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** (100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)

1. **–Ø–∑—ã–∫–æ–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–æ–¥–Ω–æ–π —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A = –ò–∑—É—á–∞–µ–º—ã–π —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç
2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫

#### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** (–≤–ª–∏—è—é—Ç –Ω–∞ –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥)

- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π** (40 –±–∞–ª–ª–æ–≤ –∑–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ activity_type + 10 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥—ã–π –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä–µ—Å)
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è** (30 –±–∞–ª–ª–æ–≤)
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —á–∞—Å—Ç–æ—Ç–µ –æ–±—â–µ–Ω–∏—è** (30 –±–∞–ª–ª–æ–≤)
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —á–µ—Ä—Ç–∞–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, 20 –±–∞–ª–ª–æ–≤ –∑–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è)

### SQL-–∑–∞–ø—Ä–æ—Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞

```sql

WITH compatibility_matrix AS (
SELECT
u1.id as user1_id,
u2.id as user2_id,
-- –Ø–∑—ã–∫–æ–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ = 100 –±–∞–ª–ª–æ–≤)
CASE WHEN EXISTS (
SELECT 1 FROM user_language_pairs ulp1
JOIN user_language_pairs ulp2 ON (
ulp1.native_language_id = ulp2.target_language_id
AND ulp1.target_language_id = ulp2.native_language_id
)
WHERE ulp1.user_id = u1.id AND ulp2.user_id = u2.id
) THEN 100 ELSE 0 END as language_match,

        -- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ = 30 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
        COALESCE((
            SELECT COUNT(*) * 30
            FROM user_time_availability ta1
            JOIN user_time_availability ta2 ON (
                (ta1.day_type = ta2.day_type OR ta1.day_type = 'any' OR ta2.day_type = 'any')
                AND ta1.time_slot = ta2.time_slot
            )
            WHERE ta1.user_id = u1.id AND ta2.user_id = u2.id
        ), 0) as time_compatibility,
        
        -- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º (40 –±–∞–ª–ª–æ–≤)
        CASE WHEN fp1.activity_type = fp2.activity_type THEN 40 ELSE 0 END as activity_match,
        
        -- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —Å—Ç–∏–ª—é –æ–±—â–µ–Ω–∏—è (30 –±–∞–ª–ª–æ–≤)
        CASE WHEN fp1.communication_style = fp2.communication_style THEN 30 ELSE 0 END as communication_match,
        
        -- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —á–∞—Å—Ç–æ—Ç–µ (30 –±–∞–ª–ª–æ–≤)
        CASE WHEN fp1.communication_frequency = fp2.communication_frequency THEN 30 ELSE 0 END as frequency_match,
        
        -- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º (10 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥—ã–π –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä–µ—Å, –º–∞–∫—Å 50)
        COALESCE((
            SELECT LEAST(COUNT(*) * 10, 50)
            FROM user_interests ui1
            JOIN user_interests ui2 ON ui1.interest_id = ui2.interest_id
            WHERE ui1.user_id = u1.id AND ui2.user_id = u2.id
        ), 0) as interests_match,
        
        -- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ —á–µ—Ä—Ç–∞–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ (5 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–∞–∂–¥—É—é —Å–æ–≤–ø–∞–¥–∞—é—â—É—é —á–µ—Ä—Ç—É, –º–∞–∫—Å 20)
        COALESCE((
            SELECT LEAST(COUNT(*) * 5, 20)
            FROM user_traits ut1
            JOIN user_traits ut2 ON ut1.trait = ut2.trait AND ut1.value = ut2.value
            WHERE ut1.user_id = u1.id AND ut2.user_id = u2.id
        ), 0) as traits_match
        
    FROM users u1
    CROSS JOIN users u2
    JOIN friendship_preferences fp1 ON u1.id = fp1.user_id
    JOIN friendship_preferences fp2 ON u2.id = fp2.user_id
    WHERE u1.id != u2.id
      AND u1.profile_completion_level > 0
      AND u2.profile_completion_level > 0
    )
SELECT
user1_id,
user2_id,
(language_match + time_compatibility + activity_match + communication_match + frequency_match + interests_match + traits_match) as total_score
FROM compatibility_matrix
WHERE language_match = 100
AND time_compatibility > 0
ORDER BY total_score DESC;
```

## 3. Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### **–§–∞–∑–∞ 1: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/start`
2. –ë–æ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–æ—à–∞–≥–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è:
    - –í—ã–±–æ—Ä —Ä–æ–¥–Ω–æ–≥–æ –∏ –∏–∑—É—á–∞–µ–º–æ–≥–æ —è–∑—ã–∫–∞
    - –í—ã–±–æ—Ä –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (—Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞—è –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞)
    - –í—ã–±–æ—Ä –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ –æ–±—â–µ–Ω–∏—é
    - –£–∫–∞–∑–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
3. –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–±–æ—Ä—É"

### **–§–∞–∑–∞ 2: –ó–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º**

**–ö–æ–º–∞–Ω–¥–∞: `/admin_find_matches`**

```sql

func runMatchingAlgorithm() []Match {
// 1. –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
users := getUsersReadyForMatching()

    // 2. –ó–∞–ø—É—Å–∫–∞–µ–º SQL-–∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞
    potentialMatches := executeCompatibilityQuery()
    
    // 3. –§–∏–ª—å—Ç—Ä—É–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
    newMatches := filterExistingMatches(potentialMatches)
    
    // 4. –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–æ "–æ–¥–∏–Ω –ª—É—á—à–∏–π –º–∞—Ç—á –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    finalMatches := selectBestMatchPerUser(newMatches)
    
    return finalMatches
    }

```

**–õ–æ–≥–∏–∫–∞ "–ª—É—á—à–∏–π –º–∞—Ç—á –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è":**

- –ï—Å–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ—Ç, —Å –∫–æ—Ç–æ—Ä—ã–º **–Ω–∞–∏–≤—ã—Å—à–∏–π –æ–±—â–∏–π –±–∞–ª–ª —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** –∑–∞ –∑–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### **–§–∞–∑–∞ 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –æ—á–µ—Ä–µ–¥—å**

–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `match_queue` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`, –Ω–æ **–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### **–§–∞–∑–∞ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º**

**–ö–æ–º–∞–Ω–¥–∞: `/admin_send_matches`**

```sql

func sendQueuedMatches() {
// 1. –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ 'pending'
queuedMatches := getQueuedMatches()

    // 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    for match := range queuedMatches {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é A –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ B
        sendMatchNotification(match.User1ID, match.User2ID)
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é B –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ A  
        sendMatchNotification(match.User2ID, match.User1ID)
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ 'sent'
        updateMatchStatus(match.ID, "sent")
    }
    }

```

## 4. –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º —è–∑—ã–∫–æ–≤–æ–º –¥—Ä—É–≥–µ

```text

üéâ –ú—ã –Ω–∞—à–ª–∏ –≤–∞–º —è–∑—ã–∫–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞!

üë§ –ò–º—è: –ê–Ω–Ω–∞
üó£Ô∏è –†–æ–¥–Ω–æ–π —è–∑—ã–∫: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
üìö –ò–∑—É—á–∞–µ—Ç: –†—É—Å—Å–∫–∏–π (—Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)
üé¨ –ò–Ω—Ç–µ—Ä–µ—Å—ã: –§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã, –ú—É–∑—ã–∫–∞
üí¨ –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç: –í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏
‚è∞ –î–æ—Å—Ç—É–ø–Ω–∞: –ë—É–¥–Ω–∏ –≤–µ—á–µ—Ä–æ–º

üìû –¢–µ–ª–µ–≥—Ä–∞–º: @anna_english

üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–∞—á–∞—Ç—å —Å –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –Ω–∞ 15 –º–∏–Ω—É—Ç ‚Äî –ø–æ–ª–æ–≤–∏–Ω—É –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –ø–æ–ª–æ–≤–∏–Ω—É –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º!

[ üìù –ù–∞–ø–∏—Å–∞—Ç—å –ê–Ω–Ω–µ ]

```

## 5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `/admin_find_matches` ‚Äî –∑–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–¥–±–æ—Ä–∞

- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- –ù–∞—Ö–æ–¥–∏—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—á–µ—Ä–µ–¥—å `match_queue`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

### `/admin_send_matches` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

- –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ —Å—Ç–∞—Ç—É—Å–µ `pending`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–∞ `sent`

### `/admin_match_stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- –°–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### `/admin_preview_matches` ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–¥–±–æ—Ä–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–∏—á–∏–Ω—ã —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

## 6. –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### **–ü—Ä–∏–Ω—Ü–∏–ø –≤–∑–∞–∏–º–Ω–æ—Å—Ç–∏**

–ê–ª–≥–æ—Ä–∏—Ç–º –∏—â–µ—Ç **–≤–∑–∞–∏–º–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö** –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤, –≥–¥–µ —è–∑—ã–∫–æ–≤—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ø–æ–ª–Ω—è—é—Ç —è–∑—ã–∫–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥—Ä—É–≥–æ–≥–æ.

### **–§–æ–∫—É—Å –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ**

- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–∏–Ω –ª—É—á—à–∏–π –º–∞—Ç—á
- –°—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (—Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞—è –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞)
- –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

### **–ì–∏–±–∫–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã**

- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –∏–ª–∏ –ø–µ—Ä–µ–ø–æ–¥–±–æ—Ä–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

### **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**

- –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- –ò—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ—Ö –∂–µ –ø–∞—Ä
- –í–µ–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –º–∞—Ç—á–µ–π –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## 7. –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### **–§–∞–∑–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è 1:**

- –£—á–µ—Ç feedback'–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –∫–∞—á–µ—Å—Ç–≤–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–¥–±–æ—Ä–∞

### **–§–∞–∑–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è 2:**

- –ì—Ä—É–ø–ø–æ–≤—ã–µ —è–∑—ã–∫–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏ (3-4 —É—á–∞—Å—Ç–Ω–∏–∫–∞)
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–Ω–¥–µ–º—ã (–¥–µ–ª–æ–≤–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–µ—á.
