# Улучшенная конфигурация линтера
# Для ежедневной разработки с современными практиками

run:
  timeout: 10m
  tests: false
  modules-download-mode: readonly
  go: "1.25"

linters:
  enable-all: true
  disable:
    # Отключаем legacy/deprecated линтеры
    - deadcode
    - exhaustivestruct
    - golint
    - ifshort
    - interfacer
    - maligned
    - nosnakecase
    - scopelint
    - structcheck
    - varcheck
    
    # Отключаем слишком строгие линтеры
    - varnamelen
    - wrapcheck
    - paralleltest
    - testpackage
    - forcetypeassert
    - gomnd

linters-settings:
  govet:
    enable-all: true
  
  gosec:
    severity: medium
    confidence: medium
  
  gocyclo:
    min-complexity: 15
  
  funlen:
    lines: 100
    statements: 60
  
  gocognit:
    min-complexity: 20
  
  nestif:
    min-complexity: 6
  
  mnd:
    ignored-numbers: "0,1,2,3,4,5,10,100,1000"
    ignored-functions: "strings.Split,strings.Join,time.Sleep,time.Now"

issues:
  max-issues-per-linter: 50
  max-same-issues: 20
  max-from-linter: 30
  
  exclude-rules:
    - linters: [gocyclo, funlen, gocognit, nestif]
      path: ".*_test.go$"
    
    - linters: [gosec]
      path: ".*_test.go$"
    
    - linters: [err113]
      text: "do not define dynamic errors"
  
  new: false
  fix: false

